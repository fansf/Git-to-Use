**注：** 第一个版本，只标识了内容框架，回答了“有什么”，详细内容还未完工，后期会以链接的方式给出。

快速查阅：  

[TOC]
# Git 基础

## 获取仓库
两种获取Git项目仓库的方法：
> - 在现有项目或目录下导入所有文件到Git中
> - 从服务器克隆现有的Git仓库

### 在现有目录中初始化仓库
如果你打算使用Git管理某一项目，只需进入该项目目录并输入：
```bash
git init
```

该命令会创建一个名为`.git`的子目录，这个子目录包含有你初始化的Git仓库中所有的必须文件，这些文件是Git仓库的骨干。  
在这个时候，我们只做了一个初始化操作，你的项目里的文件还没有被跟踪。

你可以通过`git add`命令来实现对指定文件的跟踪，然后执行`git commit`提交：

```bash
git add *.c
git add LICENSE
git commit -m 'initial project version'
```

现在你已经获得了一个实际维护着的若干个文件的Git仓库

### 克隆现有的仓库
如果你想获得一份已经存在了的Git仓库的拷贝，需要使用到`git clone`命令。该命令会复制Git仓库中的所有数据，默认配置下，远程仓库中的每一个文件的每一个版本都会被拉取下来。

克隆仓库的命令格式是：`git clone [URL]`
```bash
git clone https://github.com/libgit2/libgit2
```

这会在当前目录下建立一个名为“libgit2”的目录，并在这个目录下初始化一个`.git`文件夹，从远程仓库拉取下的所有数据放入`.git`文件夹，然后从中读取最新版本的文件的拷贝。如果你想自定义本地仓库的名字，可以使用如下命令：
```bash
git clone https://github.com/libgit2/libgit2 mylibgit
```

## 记录每次更新到仓库
我们现在可以对拉取下来的文件做一些修改，在完成了一个阶段的目标后，提交本次更新到仓库。

请记住，你工作目录下的每一个文件都不外乎两种状态：**已跟踪** 和 **未跟踪**。  
**已跟踪**的文件是指那些被纳入了版本控制的文件，在上一次快照中有它们的记录，在工作一段时间后，它们的状态可能处于未修改，已修改或已放入暂存区。

工作目录中除已跟踪文件以外的所有文件都属于未跟踪文件，它们既不存在于上次快照的记录中，也没有放入暂存区。

编辑过某些文件后，由于自上一次提交后你对它们做了修改，Git将它们标记为已修改文件。我们逐步将这些修改过的文件放入暂存区，然后提交所有暂存了的修改，如此反复。  
![lifecycle](_v_images/_lifecycle_1513823069_18288.png)

### 查看当前文件状态
`git status`可以查看特定文件处于什么状态。

### 跟踪新文件
使用命令`git add`开始跟踪一个文件。

### 暂存已修改文件
仍使用`git add`命令，这是一个多功能命令。既可以用它来开始跟踪新文件，或者把已跟踪的文件放在暂存区，还能适用于合并时把冲突的文件标记为已解决状态等。

将这个命令理解为 “添加内容到下一次提交中”而不是“将一个文件添加到项目中”要更加合适。

### 状态简览
`git status`命令的输出十分详细，但其用语有些繁琐。我们可以使用`git status -s` 或 `git status --short`命令使输出更紧凑。

### 忽略文件
我们总有一些文件无须纳入Git的管理，也不希望它们总出现在未跟踪文件列表。在这种情况下，我们可以创建一个名为：`.gitignore`的文件，列出要忽略的文件模式。

点击[这里](https://github.com/github/gitignore)查看详细信息

### 查看已暂存和未暂存的修改
`git diff`命令

### 提交更新
现在的暂存区域已经准备妥当了可以提交了。在此之前，请一定要确认还有什么修改过的或新建的文件还没有`git add`过，否则提交的时候不会记录这些还没暂存起来的变化。所以，在每次准备提交前，先用`git status`看下，是不是都已暂存起来了，然后再运行提交命令`git commit`。

### 跳过使用暂存区域
Git提供了一个跳过使用暂存区域的方式，只要在提交的时候，给`git commit`加上`-a`选项，Git就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过`git add`步骤。

### 移除文件
要从文件中移除某个文件，就必须要从已跟踪文件清单中移除（确切地说，是从暂存区域移除），然后提交。

`git rm`命令会完成此工作，并连带从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件清单中了。

如果删除之前改过并且已经放到暂存区域的话，则必须要用强制删除选项`-f`。

另一种情况是，我们想把文件从Git仓库中删除，但仍希望在当前工作目录中保留文件本身。为了达到这个目的，我们可是使用`--cached`选项。

```bash
git rm --cached README
```
### 移动文件
`git mv`命令

## 查看提交历史
在提交若干更新，又或者克隆了某个项目后，你也许想回顾下提交历史。`git log`命令可以出色地完成这个任务。

## 撤销操作
如果你提交完后才发现漏掉了几个文件没有添加，或者提交信息写错了。此时，可以运行带有`--amend`选项的提交命令尝试重新提交：
```bash
git commit --amend
```
### 取消暂存的文件
`git reset HEAD <file>`

### 撤销对文件的修改
`git checkout -- <file>`  
注意，该命令会将文件恢复至最开始，即刚放入工作目录或克隆完成时的状态，你对文件所做的所有更改都会消失。

## 远程仓库的使用
### 查看远程仓库
`git remote`  
`-v`选项会显示需要读写远程仓库使用的Git保存的简写与其对应的URL。如果远程仓库不止一个，该命令会将它们全部列出。

### 添加远程仓库
`git remote add <shorname> <url>`命令会添加一个新的远程仓库，同时指定一个你可以轻松引用的简写。

### 从远程仓库中抓取与拉取
从仓库中获取数据，可以执行：
```bash
git fetch [remote-name]
```
这个命令会访问远程仓库，从中拉取所有你还没有的数据。执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。

注意，`git fetch`命令会将数据拉取到你的本地仓库，它不会自动合并或修改你当前的工作。当准备好时你必须手动将其合并如你的工作。

如果你有一个分支设置为跟踪一个远程分支，可以使用`git pull`命令来自动地抓取然后合并远程分支到当前分支。

### 推送到远程仓库
当你想分享你的项目时，必须将其推送到上游。这个命令很简单：  
`git push [remote-name] [branch-name]`

### 查看远程仓库
`git remote show [remote-name]`命令。

### 远程仓库的移除与重命名
`git remote rename` 命令

## 打标签
Git可以给历史中的某个提交打上标签，以示重要。

`git tag`命令。